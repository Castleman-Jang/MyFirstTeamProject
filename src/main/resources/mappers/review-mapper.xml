<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "https://mybatis.org/dtd/mybatis-3-mapper.dtd">

 <mapper namespace = "com.kh.moida.mapper.ReviewMapper">
 

 <!-- 1.리뷰 작성 여부 확인 -->
 <select id="countReview" resultType="_int">
 	select count(*) from review where review_id = #{reviewId}
 </select>
 
 <!-- 2.리뷰 등록 -->
 <insert id="enrollReview">
 	insert into review
 	values review_#{reviewId}, default, #{reviewTitle}, #{reviewContent}, #{reviewRate}
 	where reviewId = #{reviewId}
 </insert>
 
 <!-- 리뷰리스트 뽑기 -->
 <select id="getReviewList">
 	select 
 	r.review_date,r.review_content, r.review_rate, u.username
 	from review r
 		join users u on user_id = r.user_id
 	where moim_id = #{moimId}
 </select>
 
 
 
 
 </mapper>